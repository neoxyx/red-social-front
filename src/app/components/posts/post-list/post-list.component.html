<!-- post-list.component.html -->
<app-menu-lateral></app-menu-lateral>
<div class="container mt-5">
    <h2>Publicaciones</h2>
    <div class="menu"><button class="btn btn-success" (click)="goToCreate()">Crear nuevo post</button></div>
    <div class="form-group">
        <label for="terminoBusqueda">Buscar posts:</label>
        <input type="text" id="terminoBusqueda" [(ngModel)]="terminoBusqueda" class="form-control"
            (input)="filtrarPosts()">
    </div><br>
    <ul class="list-group">
        <li *ngFor="let post of posts" class="list-group-item">
            <h5>{{ post.user.username }}</h5>
            <p>{{ post.content }}</p>
            <p class="date">Fecha: {{ post.createdAt | date }}</p>
            <!-- Mostrar el botón solo para los posts del propio usuario -->
            <div class="menu"><button class="btn btn-primary" *ngIf="isOwnPost(post)"
                    (click)="openOptions(post)">Opciones</button>
            </div>
            <!-- Menú de opciones -->
            <div *ngIf="selectedPost === post">
                <button class="btn btn-primary" (click)="openEditModal()">Editar</button>&nbsp;
                <button class="btn btn-danger" (click)="deletePost()">Eliminar</button>
            </div>
        </li>
    </ul>
</div>